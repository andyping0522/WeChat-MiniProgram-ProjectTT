<!--index.wxml-->
<wxs module="util" src="./util.wxs" />
<view class="container">

  <view class="app-title">{{greetingMsg}}</view>

  <view class="top_tip">我们在一起已经{{daysElapsed}}天啦</view>

  <view class="container">
    <view class="reminder-heading">
      待完成的事项
    </view>
    <view wx:if="{{reminderCount > 0}}">
      <view wx:for="{{reminderList}}" wx:key="index">
        <view class="reminder" bindtap="toEditReminderPage" data-index="{{index}}">
          <view class="info">
          <view class="title">{{item.title}}</view>
          <view class="assigned">{{item.assigned}}记得做完哦！</view>
          <view class="created">创建于{{util.cutStr(item.date, 10)}}</view>
          </view>
          <view>
            <image class="icon" wx:if="{{item.assigned=== 'PP'}}" mode="widthFix" src="images/pp.jpg"/>
            <image class="icon" wx:if="{{item.assigned=== 'TT'}}" mode="widthFix" src="images/tt.jpg"/>
          </view>
        </view>
        
      </view>
    </view>
    <view wx:elif="{{reminderCount < 0}}">
      正在加载任务列表~
    </view>
    <view wx:else>
      暂无任务，放松一下吧！
    </view>
    <button hover-class="btn-hover" size="mini" bindtap="toAddReminderPage">添加任务</button>
  </view>

  <view class="container">
    <view wx:if="{{annivCount > 0}}">
      <view wx:for="{{anniversaryList}}" wx:key="index">
        <view bindtap="toEditAnnivPage" data-index="{{index}}">
        <view wx:if="{{item.days < 0}}">
          {{item.title}}已经{{-item.days}}天啦
          起始日：{{util.cutStr(item.date, 10)}}
        </view>
        <view wx:elif="{{item.days > 0}}">
          {{item.title}}还有{{item.days}}天哦
          目标日：{{util.cutStr(item.date, 10)}}
        </view>
        <view wx:else>
          {{item.title}}就是今天！
        </view>
        </view>
      </view>
    </view>
    <view wx:elif="{{annivCount < 0}}">
      正在加载纪念日列表~
    </view>
  </view>
  <button hover-class="btn-hover" size="mini" bindtap="toAddAnnivPage">添加纪念日</button>

</view>
